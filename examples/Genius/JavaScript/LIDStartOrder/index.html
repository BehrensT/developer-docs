<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Genius JavaScript LID Start Order Code Sample</title>
    </head>
    <body>
        <form>
            Genius IP:<br>
            <input type="text" name="geniusIp" id="geniusIp"><br>
            Response:<br>
            <textarea name="responseBox" id="responseBox"></textarea><br>
            <button type="button" id="btnSend" onclick="GeniusStartOrderCall()">Send</button>
            <button type="button" id="btnCancel" onclick="GeniusCancelCall()">Cancel</button>
        </form>
    <script>
        function GeniusCall(geniusRequest) {
            var xmlHttp = new XMLHttpRequest();
            //Start a listener looking for a response back (readyState 4) and s successful response (status 200).
            xmlHttp.onreadystatechange = function () {
                if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
                    //Print the response from the call to the Response text box.
                    document.getElementById("responseBox").value = xmlHttp.responseText;
                }
            };
            //Make a GET call using the url we defined as an argument.
            xmlHttp.open("GET", geniusRequest);
            xmlHttp.send();
        }
        function GeniusStartOrderCall() {
            if (document.getElementById("geniusIp").value !== ""){
                //Store the url for the call in a variable and read the IP address for the device from the Genius IP text box on the page.
                GeniusCall("http://" + document.getElementById("geniusIp").value + ":8080/pos?Action=StartOrder&Order=1234&Format=XML");
            }
        }
        function GeniusCancelCall() {
            if (document.getElementById("geniusIp").value !== ""){
                //Store the url for the call in a variable and read the IP address for the device from the Genius IP text box on the page.
                GeniusCall("http://" + document.getElementById("geniusIp").value + ":8080/pos?Action=Cancel&Format=XML");
            }
        }
    </script>
    </body>
</html>