<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Genius JavaScript LID Start Order Code Sample</title>
    </head>
    <body>
        <form>
            Genius IP:<br>
            <input type="text" name="geniusIp" id="geniusIp"><br>
            Response:<br>
            <textarea name="responseBox" id="responseBox"></textarea><br>
            <button type="button" id="btnSend" onclick="GeniusStartOrderCall()">Send</button>
            <button type="button" id="btnEndOrder" onclick="GeniusEndOrderCall()">End Order</button><br>
        </form>
        <script>
            function GeniusCall(geniusRequest) {
                var xmlHttp = new XMLHttpRequest();
                //Start a listener looking for a response back (readyState 4) and a successful response (status 200).
                xmlHttp.onreadystatechange = function () {
                    if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
                        //Print the response from the call to the Response text box.
                        document.getElementById("responseBox").value = xmlHttp.responseText;
                    }
                };
                //Make a GET call using the url we sent in as an argument.
                xmlHttp.open("GET", geniusRequest);
                xmlHttp.send();
            }
            function GeniusStartOrderCall() {
                if (document.getElementById("geniusIp").value !== ""){
                    //Call the GeniusCall function with the parameter of the URL we wish to send, Pull the IP address from the geniusIp text box.
                    GeniusCall("http://" + document.getElementById("geniusIp").value + ":8080/pos?Action=StartOrder&Order=1234&Format=XML");
                }
            }
            function GeniusEndOrderCall() {
                if (document.getElementById("geniusip").value !== ""){
                    //Call the GeniusCall function with the parameter of the URL we wish to send, Pull the IP address from the geniusIp text box.
                    GeniusCall("http://" + document.getElementById("geniusIp").value + ":8080/pos?Action=EndOrder&Order=1234&ExternalPayentType=Cash&Format=XML");
                }
            }
        </script>
    </body>
</html>